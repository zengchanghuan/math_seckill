很好，这一步其实就是把你脑子里的“教学测评引擎”拆成一堆明确的后端模块。下面我按**功能模块 + 具体要做的事 + 优先级（MVP / 二期）**来列，方便你规划。

---

## 0. 总体建议（先有个脑图）

整个 Python 后端可以围绕几套核心数据转：

* 用户 / 会员 / 支付
* 考季 & 考试蓝图（只针对广东专升本高数）
* 题库（题目 + 知识点）
* 试卷实例（模考卷 / 练习卷）
* 作答记录 & 诊断报告
* 错题本 & 复习计划
* 数据统计 & 机构使用（可选）

下面细拆。

---

## 1. 用户 & 身份管理模块

**目标**：识别是谁在做题，绑定会员权益、记录成绩。

**功能点：**

* 微信小程序登录绑定

  * 支持通过 `openid`/`unionid` 标记唯一用户
  * 记录基础信息（昵称、头像、是否同意隐私协议等）
* 用户基础档案

  * 考试年份（202X 考季）
  * 当前报考科目组合中“是否需要高数”（你的产品先只做高数）
* 用户等级 / 会员状态

  * 是否冲刺会员（有效期到哪天）
  * 是否已完成入营诊断模考
  * 是否属于某个机构（B 端合作时用）

**优先级**：MVP 必做。

---

## 2. 考季 & 考试蓝图管理模块

**目标**：统一管理“这一年这一科的考纲 & 出卷结构”。

**功能点：**

* 考季（ExamSeason）管理

  * 例如：`GD_ZSB_MATH_2026`
  * 对应：考试日期、报名时间区间、是否已结束
* 考试蓝图（ExamBlueprint）管理

  * 总分、考试时长
  * Section 结构（选择/填空、解答题）
  * 各 Section 的题型数量、分值
  * 整体难度比例（简单/中等/偏难）
  * 知识点权重（函数、积分、微分方程、空间解析几何等）
* 蓝图版本控制

  * 可以有多个版本（V1 / V2）
  * 一部分用户用新蓝图做 A/B 测试

**优先级**：MVP 必做（可以先弄一个版本，后续再升级）。

---

## 3. 题库管理模块（Question Bank）

**目标**：存所有题，带上“能出卷”的元信息。

**功能点：**

* 题目基本信息

  * 题目 ID
  * 题型：单选、填空、多选、解答题等
  * 题干、选项、标准答案
  * 解析（文字 + 可选图片/LaTeX）
* 高等数学专用标签

  * 所属章节（函数、极限、导数、不定积分、定积分、微分方程、级数、空间解析几何等）
  * 难度等级：简单 / 中等 / 较难
  * 出题来源：真题 / 自编题 / 仿真题 / 训练题
  * 能力标签：计算、理解、综合应用等（可以先简化）
* 题库管理后台接口（内部用）

  * 新增 / 修改 / 下架题目
  * 按知识点、难度检索题目（供运营/教研使用）

**优先级**：MVP 必做，但可以先减少字段，后续再补充。

---

## 4. 试卷生成 & 实例管理模块（Paper Engine）

**目标**：把“蓝图 + 题库 + 用户画像”变成一张张真正的卷子。

**功能点：**

* 试卷模板（可选）

  * 如：`入营诊断卷模板`、`仿真卷模板1/2/3`、`章节练习卷模板`
  * 每个模板关联一个蓝图 / 部分蓝图
* 试卷实例（UserPaperInstance）

  * 生成时：

    * 按蓝图从题库抽题
    * 按 Section 填充题目（选择/填空放一个组，解答题放另一个）
    * 尽量遵守难度比例、知识点分布
  * 存储：

    * 试卷实例 ID
    * 用户 ID（如果是个性化卷）
    * 题目 ID 列表 + 所属 Section + 当时分值快照
  * 再次进入同一卷：

    * 拿老实例，不重新随机
* 出题策略的基本规则

  * 允许参数：

    * “优先抽没做过的题”
    * “可以混入 X% 的曾做错题”（二期）
  * MVP 可以先简单：只看蓝图 + 随机 + 题目去重

**优先级**：MVP 必做（不然前端拿不到卷）。

---

## 5. 作答记录 & 判分模块

**目标**：记录每一次答题，并给出分数和明细。

**功能点：**

* 作答记录（AnswerRecord）

  * user_id
  * paper_instance_id
  * 每题作答：question_id、用户答案、作答时间、是否超时
* 判分逻辑

  * 单题判分：

    * 客观题严格对答案
    * 解答题可以先不自动判分（让学生自己对照解析/老师批改）。MVP 阶段可以先不算解答题分，或者学生自己打分。
  * 整卷总分与各模块分数
* 状态管理

  * 一套卷可能未做完、做一半、已交卷
  * 限定“模考卷交卷后不能再更改”

**优先级**：MVP 必做。

---

## 6. 诊断模考 & 报告模块

**目标**：支撑「入营诊断」和后续模拟考试的分析报告。

**功能点：**

* 诊断卷标记

  * 某些 paper_instance 是“诊断卷”或“模考卷”
* 报告生成

  * 整体分数 & 在满分中的占比（例如 85 / 150）
  * 粗略“水平判定”：低分 / 边缘 / 稳过 / 冲高分
  * 知识模块得分拆分：

    * 比如：函数 20/40，积分 15/30，微分方程 5/10 等
  * 易错题统计：

    * 本卷中多次被学生做错的题（全局）
  * 文字建议（可以先做简单模板）：

    * 如“函数部分是你当前最大短板，建议优先完成函数专题训练1/2”
* 报告查询接口

  * 前端可以根据 paper_instance_id 拉取诊断报告
  * 用户成绩历史列表（最近几次模考的曲线）

**优先级**：MVP 推荐做一个简化版本（总分 + 各模块比例 + 简单文案）。

---

## 7. 专题训练 & 冲刺计划模块

**目标**：支撑“个性化冲刺路径”和“专题训练入口”。

### 7.1 专题训练

**功能点：**

* 专题配置

  * 专题 ID、名称（如：函数极限 X 题冲刺）
  * 关联的知识点集合
  * 题数、难度范围、题型分布
* 专题出卷

  * 按配置从题库抽题生成一个练习卷实例
  * 可以支持“固定题集”或“动态抽题”

**优先级**：MVP 建议做（至少几个典型专题）。

### 7.2 冲刺计划（Personal Plan）

**功能点：**

* 根据诊断报告生成计划骨架

  * 例如：

    * 第 1 周主攻函数 + 导数基础
    * 第 2 周主攻积分 + 应用
    * 第 3 周错题复习 + 2 套仿真卷
* 将计划拆成“任务列表”

  * 每个任务关联一个专题/一套卷
  * 标注预计用时（粗略）

**优先级**：MVP 可以先用“简单规则 + 固定模板”，后续再智能化。

---

## 8. 错题本 & 智能复习模块

**目标**：不让同一类坑无限重复踩。

**功能点：**

* 错题收集

  * 每当作答记录中某题错误，就写一条错题记录：

    * user_id, question_id, 第几次错, 最近错的时间
* 错题本接口

  * 按用户返回其错题列表
  * 支持按知识点筛选（比如只看“积分”的错题）
* 错题练习卷生成

  * 从错题池中抽若干题生成“错题练习卷”
  * 可以支持：

    * 最近 7 天错题
    * 某个章节错题
* 简单间隔复习策略（可先粗略）

  * 标记：一题错过 N 次、距离上次错题时间超过 X 天，就优先推送

**优先级**：MVP 强烈建议至少做“错题收集 + 错题练习”的雏形。

---

## 9. 学习进度 & 冲刺日历模块（轻量后端支持）

**目标**：让前端能展示“打卡感”和进度条。

**功能点：**

* 学习任务记录

  * 对每次完成练习卷/专题/模考，记录：完成时间、耗时、完成度
* 每日/每周统计

  * 每天做了多少题，完成了多少任务
  * 当前考季累计做题数、卷数
* 简单进度接口

  * 前端拉取“最近 7 天打卡情况”“总练习题数”“已完成专题数”

**优先级**：MVP 可以先做一个非常简化的版本（只记录卷完成时间和数量）。

---

## 10. 支付 / 会员 / 权限控制模块（小程序侧核心）

**目标**：让你真的收钱，把免费功能和会员功能区分开。

**功能点：**

* 商品与套餐管理

  * 例如：

    * 冲刺会员（当年考季）
    * 单次模考卷包
    * 专题题包
* 微信支付对接

  * 生成预支付订单
  * 支付成功回调
  * 防止重复付款 / 订单状态异常
* 会员权益绑定

  * 支付成功后，给用户增加相应权限：

    * 是否可以做仿真卷？
    * 是否可以看到详细诊断报告？
    * 是否可以访问冲刺专题 X/Y？
* 接口侧权限控制

  * 例如：

    * 访问“冲刺会员模块”的 API 时，先校验用户是否有权限

**优先级**：只要你打算收费，这一块就是 MVP 核心。

---

## 11. 机构 / 班级支持模块（可选二期）

**目标**：为将来的 B 端 SaaS 做准备。

**功能点：**

* 机构账户 / 班级管理

  * 机构 ID、机构名称
  * 班级 ID、班级名称
* 学生与机构/班级绑定

  * user_id ↔ class_id ↔ org_id
* 班级成绩与统计报告

  * 班级整体掌握度
  * 老师可以看到每个学生的模考/训练数据
* 机构付费 / 授权机制（后期再设计）

**优先级**：可以暂时不做，等 ToC 跑通、个人模式稳定后再考虑。

---

## 12. 数据统计 & 运营后台模块

**目标**：你自己要能看懂“系统有没有在变好”，题好不好用。

**功能点：**

* 题目层面统计

  * 每道题的作答次数、正确率
  * 区分度（稍后可做）：高分组 vs 低分组
* 卷子层面统计

  * 每套模考卷的平均分、难度情况
  * 不同卷对真实成绩（未来）预测性如何
* 用户层面统计

  * 日活/月活
  * 做题数、完成模考的比例
  * 冲刺会员转化率
* 简单后台页面（可以先做内部用的极简版）

  * 你能看一些表格/图就行

**优先级**：基础统计（题目正确率、卷子平均分、用户做卷次数）建议 MVP 就做，复杂分析可以二期。

---

## 总结：MVP 最少要上的后端功能

如果只看“第一版可上线 + 能收费 + 能形成闭环”，最核心的是：

1. 用户 & 登录 & 会员状态
2. 考季 & 考试蓝图（至少一个蓝图）
3. 题库管理（可先手工导入一批）
4. 试卷生成 & 实例管理（诊断卷 + 几套仿真卷 + 专题卷简单版）
5. 作答记录 & 判分
6. 基础诊断报告（总分 + 知识点分布 + 简单建议）
7. 错题本（收集 + 练习）
8. 支付 & 权限控制（冲刺会员 / 单次模考权限）

这些跑通了，你就有了一个**真正能“拉新 → 做题 → 判分 → 给建议 → 收费”的闭环**，后面所有高级功能（智能计划、机构版、复杂数据分析）都可以在这个基础上慢慢加。

如果你愿意，下一步我可以帮你把这些功能再压缩成一张**“后端功能 vs 小程序页面”的对照表**，方便你规划前后端对接。
